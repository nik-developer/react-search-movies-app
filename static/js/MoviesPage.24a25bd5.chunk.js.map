{"version":3,"sources":["services/Api.js","components/MovieList/MovieList.js","components/MovieList/MovieList.module.css","components/SearchBar/SearchBar.module.css","views/MoviesPage.module.css","components/SearchBar/SearchBar.js","views/MoviesPage.js"],"names":["apiKey","fetchAllMovies","axios","get","then","response","data","results","MovieDetails","id","getMovieCast","res","cast","getMovieReviews","MovieList","movies","className","style","map","title","poster_path","listItem","link","to","img","alt","src","module","exports","SearchBar","state","searchQuery","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","searchForm","input","onChange","type","placeholder","button","Component","MoviesPage","onChangeQuery","query","console","log","Api","length","container"],"mappings":"+GAAA,qBAEMA,EAAU,mCAsBD,KAACC,eAnBO,WACnB,OAAOC,IAAMC,IAAN,kEAAqEH,IAAUI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,YAkBzFC,aAfR,SAACC,GACrB,OAAOP,IAAMC,IAAN,mDAC8BM,EAD9B,oBAC4CT,EAD5C,oBACqEI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5DI,aAXzB,SAACD,GAClB,OAAOP,IAAMC,IAAN,6CAAgDM,EAAhD,4BAAsET,EAAtE,oBACHI,MAAK,SAAAO,GAAG,OAAIA,EAAIL,KAAKM,SAS+BC,gBANpC,SAACJ,GACrB,OAAOP,IAAMC,IAAN,mDAC8BM,EAD9B,4BACoDT,EADpD,2BACoFI,MAAK,SAAAO,GAAG,OAAIA,EAAIL,KAAKC,c,gCCpBpH,wCA+BeO,IAxBG,SAAC,GAAc,IAAbC,EAAY,EAAZA,OAChB,OACI,oBAAIC,UAAWC,IAAMH,UAArB,SACCC,EAAOG,KAAI,gBAAEC,EAAF,EAAEA,MAAOV,EAAT,EAASA,GAAIW,EAAb,EAAaA,YAAb,OACR,oBAAIJ,UAAWC,IAAMI,SAArB,SACI,eAAC,IAAD,CAAML,UAAWC,IAAMK,KAAOC,GAAE,kBAAad,GAA7C,UACA,qBAAKO,UAAWC,IAAMO,IAAKC,IAAKN,EAAOO,IAAG,0CAAqCN,KAC9ED,MAH+BV,U,mBCVhDkB,EAAOC,QAAU,CAAC,UAAY,6BAA6B,UAAY,6BAA6B,KAAO,wBAAwB,SAAW,4BAA4B,IAAM,yB,mBCAhLD,EAAOC,QAAU,CAAC,WAAa,8BAA8B,MAAQ,yBAAyB,OAAS,4B,mBCAvGD,EAAOC,QAAU,CAAC,UAAY,8BAA8B,UAAY,8BAA8B,KAAO,yBAAyB,SAAW,6BAA6B,IAAM,0B,0HCK9KC,E,4MACLC,MAAQ,CAACC,YAAa,I,EAGtBC,aAAe,SAAAC,GACZ,EAAKC,SAAS,CAACH,YAAaE,EAAEE,cAAcC,S,EAE9CC,aAAe,SAAAJ,GACbA,EAAEK,iBAEF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,aAE/B,EAAKG,SAAS,CAACH,YAAa,M,4CAG5B,WACI,OACI,mCAEA,uBAAMS,SAAUC,KAAKJ,aAAcrB,UAAWC,IAAMyB,WAApD,UACI,uBAAO1B,UAAWC,IAAM0B,MACxBC,SAAUH,KAAKT,aACfI,MAAOK,KAAKX,MAAMC,YAClBc,KAAK,OACLC,YAAY,kBAEZ,wBAAQ9B,UAAWC,IAAM8B,OAAQF,KAAK,SAAtC,SACI,qD,GA3BIG,aAsCRnB,I,0CCnCV7B,EAAU,mCAGViD,E,4MACFnB,MAAQ,CACJC,YAAa,GACbhB,OAAQ,I,EAQVmC,cAAgB,SAAAC,GACdjD,IAAMC,IAAN,4DAA+DH,EAA/D,kBAA+EmD,IAAS/C,MAAK,SAAAC,GACzF,EAAK6B,SAAS,CACVnB,OAAQV,EAASC,KAAKC,UAE1B6C,QAAQC,IAAIhD,EAASC,KAAKC,YAE9B,EAAK2B,SAAS,CAAEH,YAAaoB,EAAQpC,OAAQ,M,uDAZjD,WAAqB,IAAD,OACxBuC,IAAIrD,iBAAiBG,MAAK,SAAAW,GAAM,OAAI,EAAKmB,SAAS,CAC1CnB,OAAO,YAAIA,U,oBAYf,WAEI,MAA8B0B,KAAKX,MAA5Bf,EAAP,EAAOA,OAAQgB,EAAf,EAAeA,YACf,OACI,qCACD,cAAC,EAAD,CAAWS,SAAUC,KAAKS,gBACxBnB,EAAYwB,OAAS,GACtB,qBAAKvC,UAAWC,IAAMuC,UAAtB,SACE,cAAC1C,EAAA,EAAD,CAAWC,OAAQA,a,GA5BRiC,aAoCTC","file":"static/js/MoviesPage.24a25bd5.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst apiKey =  \"98991c7aafc0aea2678240c8a4efd62b\"\r\n\r\n\r\nconst fetchAllMovies = () => {\r\n    return axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${apiKey}`).then(response => response.data.results)\r\n}\r\n\r\n const  MovieDetails =  (id) => {\r\n    return axios.get(`\r\n    https://api.themoviedb.org/3/movie/${id}?api_key=${apiKey}&language=en-US`).then(response => response.data)\r\n}\r\nconst getMovieCast = (id) => {\r\n    return axios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${apiKey}&language=en-US`,\r\n      ).then(res => res.data.cast)\r\n    }\r\n\r\nconst getMovieReviews = (id) => {\r\n    return axios.get(`\r\n    https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${apiKey}&language=en-US&page=1`).then(res => res.data.results)\r\n}      \r\n\r\n// eslint-disable-next-line\r\nexport default {fetchAllMovies, MovieDetails, getMovieCast, getMovieReviews};","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport style from \"../MovieList/MovieList.module.css\"\r\nimport PropTypes from \"prop-types\"\r\n\r\n\r\n\r\nconst MovieList = ({movies}) => {\r\n    return (\r\n        <ul className={style.MovieList}>\r\n        {movies.map(({title, id, poster_path}) => (\r\n            <li className={style.listItem} key={id}>\r\n                <Link className={style.link}  to={`/movies/${id}`}>\r\n                <img className={style.img} alt={title} src={`https://image.tmdb.org/t/p/w300/${poster_path}`}/>\r\n                {title} \r\n                 </Link>\r\n            </li>))}\r\n        \r\n    </ul>\r\n    )\r\n}\r\nMovieList.propTypes = {\r\n    movies: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            title: PropTypes.string.isRequired,\r\n            id:PropTypes.number.isRequired,\r\n            poster_path: PropTypes.string\r\n        })\r\n    )\r\n}\r\n\r\nexport default MovieList","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieList_container__hvlxi\",\"MovieList\":\"MovieList_MovieList__QONzG\",\"link\":\"MovieList_link__R7h6c\",\"listItem\":\"MovieList_listItem__24RfN\",\"img\":\"MovieList_img__3WIMA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchBar_searchForm__1jMid\",\"input\":\"SearchBar_input__1ivjZ\",\"button\":\"SearchBar_button__3wfin\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MoviesPage_container__2t8fz\",\"MovieList\":\"MoviesPage_MovieList__L31TZ\",\"link\":\"MoviesPage_link__2rwTH\",\"listItem\":\"MoviesPage_listItem__3be1Z\",\"img\":\"MoviesPage_img__1L9zo\"};","\r\nimport React, {Component} from \"react\";\r\nimport style from \"../SearchBar/SearchBar.module.css\"\r\n\r\n\r\n\r\nclass SearchBar extends Component {\r\n state = {searchQuery: ''};\r\n\r\n\r\n handleChange = e => {\r\n    this.setState({searchQuery: e.currentTarget.value})\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.searchQuery)\r\n\r\n    this.setState({searchQuery: ''});\r\n  }\r\n    \r\n    render() {\r\n        return (\r\n            <>\r\n            \r\n            <form onSubmit={this.handleSubmit} className={style.searchForm}>\r\n                <input className={style.input} \r\n                onChange={this.handleChange}\r\n                value={this.state.searchQuery}\r\n                type='text'\r\n                placeholder=\"Search movies\"\r\n                />\r\n                <button className={style.button} type=\"submit\">\r\n                    <span>Search</span>\r\n\r\n                </button>\r\n            </form>\r\n       \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default  SearchBar","import React, {Component} from \"react\";\r\nimport Api from \"../services/Api\"\r\nimport SearchBar from \"../components/SearchBar/SearchBar\";\r\nimport axios from \"axios\";\r\nimport style from \"../views/MoviesPage.module.css\"\r\nimport MovieList from \"../components/MovieList/MovieList\";\r\n\r\n\r\n\r\nconst apiKey =  \"98991c7aafc0aea2678240c8a4efd62b\"\r\n\r\n\r\nclass MoviesPage extends Component {\r\n    state = {\r\n        searchQuery: \"\",\r\n        movies: []\r\n    }\r\n\r\n    componentDidMount() {\r\nApi.fetchAllMovies().then(movies => this.setState({\r\n        movies:[...movies] \r\n    })\r\n)};\r\n      onChangeQuery = query => {\r\n        axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${query}`).then(response => {\r\n            this.setState({\r\n                movies: response.data.results\r\n            })\r\n            console.log(response.data.results);\r\n        })\r\n        this.setState({ searchQuery: query,  movies: [] })\r\n      }\r\n    render() {\r\n\r\n        const {movies, searchQuery} = this.state;\r\n        return ( \r\n            <>\r\n           <SearchBar onSubmit={this.onChangeQuery}  /> \r\n            {searchQuery.length > 0  &&\r\n            <div className={style.container}>\r\n              <MovieList movies={movies}/>\r\n            </div>\r\n    }\r\n            </>\r\n        )}\r\n    };\r\n\r\n\r\nexport  default MoviesPage;\r\n"],"sourceRoot":""}